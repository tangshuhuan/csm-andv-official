import{f as S,r as X,o as ee,a9 as y,S as o,U as s,k as d,Z as p,u as N,H as te,G as g,_,X as m,F as I,a4 as w,ah as ae}from"./framework.D2AHyx5m.js";var M={},Z={exports:{}};(function(t){function n(u){return u&&u.__esModule?u:{default:u}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(Z);var U=Z.exports,h={},z;function re(){return z||(z=1,Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"}),h}var k={},R={exports:{}},q;function ne(){return q||(q=1,function(t){function n(){return t.exports=n=Object.assign?Object.assign.bind():function(u){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var v in f)({}).hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(null,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(R)),R.exports}var x={},j;function le(){if(j)return x;j=1,Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;const t={locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"};return x.default=t,x}var b={},Y;function A(){if(Y)return b;Y=1,Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;const t={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]};return b.default=t,b}var F;function H(){if(F)return k;F=1;var t=U;Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var n=t(ne()),u=t(le()),l=t(A());const f={lang:(0,n.default)({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},u.default),timePickerLocale:(0,n.default)({},l.default)};return f.lang.ok="确定",k.default=f,k}var C={},O;function oe(){if(O)return C;O=1;var t=U;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var n=t(H());return C.default=n.default,C}var T=U;Object.defineProperty(M,"__esModule",{value:!0});var E=M.default=void 0,se=T(re()),ie=T(H()),ue=T(A()),de=T(oe());const i="${label}不是一个有效的${type}",pe={locale:"zh-cn",Pagination:se.default,DatePicker:ie.default,TimePicker:ue.default,Calendar:de.default,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckall:"全选",filterSearchPlaceholder:"在筛选项中搜索",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:i,method:i,array:i,object:i,number:i,date:i,boolean:i,integer:i,float:i,regexp:i,email:i,url:i,hex:i},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码已过期",refresh:"点击刷新",scanned:"已扫描"}};E=M.default=pe;const me={key:0,style:{display:"block"}},ce={key:1},fe={key:0},_e={key:1},ye={key:3},ve={key:4},ge={key:5},he={key:7,class:"a_button",href:"javascript:;"},ke={key:8,class:"a_button",href:"javascript:;"},Ce={__name:"index",setup(t){const n=S([{title:"物理机ID/名称",dataIndex:"name",key:"name",isShow:!0},{title:"IP地址",key:"manageIp",dataIndex:"manageIp",isShow:!0},{title:"IP地址11",key:"manageIp1",dataIndex:"manageIp2",isShow:!0},{title:"IP地址11",key:"manageIp2",dataIndex:"manageIp1",isShow:!0},{title:"设备类型",key:"defendType",dataIndex:"defendType",isShow:!0},{title:"位置",key:"wz",dataIndex:"wz",isShow:!0},{title:"所属资源池",key:"ss",dataIndex:"ss",isShow:!0},{title:"物理机状态",key:"status",dataIndex:"status",isShow:!0},{title:"机器状态",scopedSlots:{customRender:"status"},isShow:!0},{title:"机器状态1",scopedSlots:{customRender:"status1"},isShow:!0},{title:"绑定CPU",key:"bindCpu",isShow:!0},{title:"磁盘使用率",dataIndex:"diskUseRate",key:"diskUseRate",isShow:!0},{title:"内存使用率",dataIndex:"memoryUseRate",key:"memoryUseRate",isShow:!0},{title:"CPU使用率/总线程",dataIndex:"cpuUseRate",key:"cpuUseRate",isShow:!0,customRender:({text:c,record:a})=>`${c>0?c.toFixed(2):0}%/${a.cpuTotal||0}核`},{title:"服务数量",key:"serviceNum",dataIndex:"serviceNum",isShow:!0},{title:"服务数量",key:"serviceNum2",dataIndex:"serviceNum1",isShow:!0},{title:"操作",key:"actions",dataIndex:"actions",width:220,isShow:!0}]);let u=S([]),l=X({pageSize:10,current:1,total:0}),f=S({}),v=S(!1);const V=()=>{f.value={},this.gethostpagesearch(1)},B=c=>{f.value=JSON.parse(JSON.stringify(c)),P()},P=c=>{l.current,l.pageSize,f.value,v.value=!0,setTimeout(()=>{u.value=[{id:"671656ad65045f2f172fc242",name:"测试物理机11",status:1,deployStatus:null,serviceStatus:0,cpuTotal:24,cpuCurrentUse:3,cpuUseRate:15.2804103013,memoryTotal:83353346048,memoryCurrentUse:64890339328,memoryUseRate:77.84971138487006,diskTotal:0xfbd72f6000,diskCurrentUse:272995786752,diskUseRate:25.238898400491372,imageDiskTotal:0xfbd72f6000,imageDiskCurrentUse:272995786752,imageDiskUseRate:25.238898400491372,cephDiskTotal:2675476666666,cephDiskUsedNum:174662003370,cephDiskUseRate:6.528257396004582,pageMemoryTotal:68719476736,pageMemoryUse:8589934592,pageMemoryFree:60129542144,pageMemoryUseRate:12.5,pageMemorySize:1073741824,createTime:1729517229467,updateTime:1730773045682,revised:null,description:null,location:null,locationName:null,address:null,monitorId:null,manageIp:"172.16.30.11",cephSecretUuid:"602f4dbf-63b0-4885-a800-beec0a229ebf",defendType:3,addStatus:null,agentMap:{"监控(0.0.14)":1,"CSM(csm2.0_20240914140528)":1}}],l={current:1,pageSize:10,total:4,errorTotal:0,unread:0,skip:0,offset:0}},1e3),v.value=!1};return ee(()=>{P()}),(c,a)=>{const D=y("a-button"),Q=y("inputQuire"),J=y("a-divider"),$=y("a-menu-item"),L=y("a-menu"),G=y("a-dropdown"),K=y("CsmTable"),W=y("a-config-provider");return o(),s("div",null,[d(W,{locale:N(E)},{default:p(()=>[d(K,{columns:n.value,"onUpdate:columns":a[1]||(a[1]=r=>n.value=r),dataSource:N(u),loading:N(v),scroll:{x:"max-content"},pagination:!1,isPagination:!0,isBorder:!1,isDynamicRowHeightShow:!0,columnsSetting:!0,paginationItem:N(l),"onUpdate:paginationItem":a[2]||(a[2]=r=>te(l)?l.value=r:l=r),isTop:!0,tabKey:1,onPaginationChange:P},{mainButton:p(()=>[d(D,{onClick:c.dialogHandle,type:"primary",class:"primary-btn-defalut operation-btn-defalut",style:{"margin-right":"10px"}},{default:p(()=>a[3]||(a[3]=[g(" 展开弹窗 ")])),_:1},8,["onClick"]),d(D,{type:"primary",class:"primary-btn-defalut operation-btn-defalut",style:{"margin-right":"10px"},onClick:c.cofirmHandle},{default:p(()=>a[4]||(a[4]=[g(" 二次确认框 ")])),_:1},8,["onClick"]),d(Q,{ref:"funinquire",params:"ResPoolManageHost",class:"machineManage",onInquire:B,onReset:V},null,512)]),bodyCell:p(({column:r,record:e})=>[r.key==="name"?(o(),s("a",me," 111 ")):_("",!0),r.key==="defendType"?(o(),s("div",ce,m(e.defendType===1?"非流量型算力服务器":e.defendType===2?"流量型算力服务器":e.defendType===3?"通用算力服务器":""),1)):_("",!0),r.key==="wz"?(o(),s(I,{key:2},[e.idcDataCenter||e.room||e.cabinets?(o(),s("div",fe,m(e.idcDataCenter)+m(e.idcDataCenter&&e.room?"-":"")+m(e.room)+m(e.room&&e.cabinets?"-":"")+m(e.cabinets),1)):(o(),s("div",_e,"--"))],64)):_("",!0),r.key==="ss"?(o(),s("div",ye,m(e.resourcePoolName||"--")+"（"+m(e.resourcePoolIp)+"）",1)):_("",!0),r.key==="status"?(o(),s("div",ve,[w("span",{class:"normal-circle",style:ae({background:e.status===1?"#00A545":e.status===2?"#F59A23":"#DE0C17"})},null,4),g(m(e.status===1?"正常":e.status===2?"Ping不通":e.status===3?"无心跳":e.status===4?"计划内维护":e.status===5?"资源耗尽":e.status===6?"设备损坏":e.status===7?"服务异常":"--"),1)])):_("",!0),r.key==="bindCpu"?(o(),s("div",ge,m(c.bindCpu?"是":"否"),1)):_("",!0),r.key==="diskUseRate"?(o(),s(I,{key:6},[],64)):_("",!0),r.key==="serviceNum"?(o(),s("a",he,m(e.serviceNum),1)):_("",!0),r.key==="serviceNum2"?(o(),s("a",ke,m(e.serviceNum),1)):_("",!0),r.key==="actions"?(o(),s(I,{key:9},[a[10]||(a[10]=w("a",null,"性能监控",-1)),d(J,{type:"vertical"}),d(G,null,{overlay:p(()=>[d(L,null,{default:p(()=>[d($,{onClick:a[0]||(a[0]=xe=>c.openDialog(c.item))},{default:p(()=>a[5]||(a[5]=[g(" 编辑设备信息 ")])),_:1}),d($,null,{default:p(()=>a[6]||(a[6]=[g(" 更新监控Agent ")])),_:1}),d($,null,{default:p(()=>a[7]||(a[7]=[g(" 更新CSMAgent ")])),_:1}),d($,null,{default:p(()=>a[8]||(a[8]=[g(" 删除 ")])),_:1})]),_:1})]),default:p(()=>[a[9]||(a[9]=w("a",{class:"a_button",href:"javascript:;"},"操作",-1))]),_:1})],64)):_("",!0)]),_:1},8,["columns","dataSource","loading","paginationItem"])]),_:1},8,["locale"])])}}};export{Ce as _,E as d};
